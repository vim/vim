Test for multi-byte text formatting.
Also test, that 'mps' with multibyte chars works.
And test "ra" on multi-byte characters.
Also test byteidx() and byteidxcomp()

STARTTEST
:so mbyte.vim
:set encoding=utf-8
ENDTEST

Results of test69:

STARTTEST
/^{/+1
:set tw=2 fo=t
gqgqjgqgqo
Ôº∏ÔºπÔº∫
abc Ôº∏ÔºπÔº∫
ENDTEST

{
Ôº∏ÔºπÔº∫
abc Ôº∏ÔºπÔº∫
}

STARTTEST
/^{/+1
:set tw=1 fo=tm
gqgqjgqgqjgqgqjgqgqjgqgqo
Ôº∏
Ôº∏a
Ôº∏ a
Ôº∏Ôºπ
Ôº∏ Ôºπ
ENDTEST

{
Ôº∏
Ôº∏a
Ôº∏ a
Ôº∏Ôºπ
Ôº∏ Ôºπ
}

STARTTEST
/^{/+1
:set tw=2 fo=tm
gqgqjgqgqjgqgqjgqgqjgqgqjgqgqjgqgqjgqgqjgqgqjgqgqo
Ôº∏
Ôº∏a
Ôº∏ a
Ôº∏Ôºπ
Ôº∏ Ôºπ
aÔº∏
abÔº∏
abcÔº∏
abÔº∏ c
abÔº∏Ôºπ
ENDTEST

{
Ôº∏
Ôº∏a
Ôº∏ a
Ôº∏Ôºπ
Ôº∏ Ôºπ
aÔº∏
abÔº∏
abcÔº∏
abÔº∏ c
abÔº∏Ôºπ
}

STARTTEST
/^{/+1
:set ai tw=2 fo=tm
gqgqjgqgqo
Ôº∏
Ôº∏a
ENDTEST

{
  Ôº∏
  Ôº∏a
}

STARTTEST
/^{/+1
:set noai tw=2 fo=tm
gqgqjgqgqo
  Ôº∏
  Ôº∏a
ENDTEST

{
  Ôº∏
  Ôº∏a
}

STARTTEST
/^{/+1
:set tw=2 fo=cqm comments=n:Ôº∏
gqgqjgqgqjgqgqjgqgqjgqgqjgqgqjgqgqjgqgqjgqgqjgqgqo
Ôº∏
Ôº∏a
Ôº∏aÔºπ
Ôº∏Ôºπ
Ôº∏ÔºπÔº∫
Ôº∏ Ôºπ
Ôº∏ ÔºπÔº∫
Ôº∏Ôº∏
Ôº∏Ôº∏a
Ôº∏Ôº∏Ôºπ
ENDTEST

{
Ôº∏
Ôº∏a
Ôº∏aÔºπ
Ôº∏Ôºπ
Ôº∏ÔºπÔº∫
Ôº∏ Ôºπ
Ôº∏ ÔºπÔº∫
Ôº∏Ôº∏
Ôº∏Ôº∏a
Ôº∏Ôº∏Ôºπ
}

STARTTEST
/^{/+1
:set tw=2 fo=tm
RÔº∏a
ENDTEST

{

}

STARTTEST
/^{/+1
:set mps+=u2018:u2019
d%
ENDTEST

{
‚Äò two three ‚Äô four
}
STARTTEST
/^ra test
jVjra
ENDTEST

ra test
ÔΩÅbbÔΩÅ
ÔΩÅÔΩÅb

STARTTEST
:set whichwrap+=h
/^x
dh
:set whichwrap-=h
ENDTEST

√°
x

STARTTEST
/^substitute
:let y = substitute('ÔºëÔºíÔºì', '\zs', 'a', 'g')    | put =y
ENDTEST

substitute

STARTTEST
:g/^STARTTEST/.,/^ENDTEST/d
:1;/^Results/,$wq! test.out
ENDTEST
